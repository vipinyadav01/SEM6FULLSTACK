<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Product List</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <h1>Product List</h1>
    <% if (message) { %>
      <div class="alert success"><%= message %></div>
    <% } %>
    <a href="/add" class="btn btn-add">Add Product</a>
    <ul class="product-list">
      <% products.forEach(product => { %>
        <li class="product-item">
          <div class="product-info">
            <strong><%= product.name %></strong>
            <span class="price">â‚¹<%= product.price.toFixed(2) %></span>
            <p class="description"><%= product.description %></p>
            <% if(product.updatedAt) { %>
              <small>Updated at: <%= product.updatedAt %></small>
            <% } else { %>
              <small>Created at: <%= product.createdAt %></small>
            <% } %>
          </div>
          <div class="product-actions">
            <a href="/update/<%= product._id %>" class="btn btn-update">Update</a>
            <a href="/delete/<%= product._id %>" class="btn btn-delete" onclick="return confirm('Are you sure you want to delete this product?')">Delete</a>
          </div>
        </li>
      <% }) %>
    </ul>
  </div>
</body>
</html>
